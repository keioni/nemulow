# Nemulow 文法

Nemulow は、Markdown に似た **Nemulow 言語** を使う。

ソースとなるテキストは、以下のような形式をとる:

```plaintext
* metadata1: value1
* metadata2: value2 and value3
* metadata_3: invalid_value

message
```

# メタデータ

ファイル先頭から、最初の空行まではメタデータとして扱われる。メタデータは、今後のバージョンアップで増える可能性がある。

メタデータの書式は以下の通りである:

```plaintext
* keyname: value
```

各記事の題名やタイムスタンプは、ソースファイルの名前から取得する。

例:

```
20250612 ねこ以上に可愛い生き物は存在するか？.txt
```

この場合、記事名は「ねこ以上に可愛い生き物は存在するか？」となる。

## filename

(オプション) 出力する html のファイル名。拡張子を除く。

省略した場合、ソースファイルの名前をそのまま使う。

ただし、例で挙げたような「ねこ以上に可愛い生き物は存在するか？」をそのまま出力すると、URLエンコードされることになるので、一覧性が悪くなる。そのため、英語で付けることができる。`.html` などの拡張子は付けない。

例:

```
* filename: of-course-there-is-no-animal-cuter-than-cats
```

## summary

(オプション) ogp の description に埋め込む文章。

## seq

同じ日付で複数の記事を作るときの順序を指定する。省略した場合、seq は 1 である。つまり、2本目の記事を書くときは1本目のスファイルは編集せず、2本目のソースファイルの seq に 2 以降の値を付ける。

```
* seq 2
```


## category

(オプション) 現時点では使い道は決まっていない。ひとまず空にしておく。

## status

(必須) 以下のうちいずれか:

* idea (i)
  * アイデアのみの状態
  * システム上、draft と違いはない
* draft (d)
  * 下書きの状態¥
  * 文書はコミットされるだけで、Webサーバへは何も影響はない
* check (c)
  * テストサーバへデプロイされ、著者が見た目などを確認できる状態
  * デプロイにあたって各種スクリプトが実行される
* publish (p)
  * 本番サーバへデプロイされ、全体に見られる状態
  * デプロイにあたって各種スクリプトが実行される
* withdrawn (w)
  * いったんデプロイしたものを一時的に取り下げた状態
  * 取りやめにあたって、一時的な404ページの準備などをするスクリプトが動く
* remove (r)
  * いったんデプロイしたものを削除した状態
  * 取りやめにあたって、410ページの準備などをするスクリプトが動く


# 本文

冒頭で書いたように Markdown に似ているが、実装していないもの、追加で実装しているもの、使い方が違うものがある。

## Markdown と同じもの

### 見出し

```plaintext
# 見出し (大; h3 に変換)
## 見出し (中; h4 に変換)
### 見出し (小; h5 に変換)
```

### リンク

```plaintext
[text](url)
```

### 画像の貼り付け

```plaintext
![alt text](sample.jpg)
```

### 強調

```plaintext
This is **bold** text.
__bold__
```

### インライン固定幅

普通の Markdown とは異なり、`<code>` で括るのではないが、似たように働く。

```textplain
次の `hoge` は固定幅になる。
```

### 水平線

`---` だけの行は水平線（`<hr>`）に変換される。

### 段落の先頭が html タグで始まっているもの

普通、段落の行頭から文章が始まっている場合、`<p>〜</p>` で括られる。

しかし行頭が html タグで始まっている場合、その段落は `<p>` で括られない。

外部メディアやSNSのポスト埋め込むときなど、独自に `<blockqoute>` などを使うものがあるが、これに対応する。

行頭が1つ以上の半角スペースの場合、それらを取り除いて、`<p>〜</p>` で括られる。段落の先頭からタグを付けたいが、`<p>` で括りたい場合にはこの方法を用いる。

## Markdown と違うもの

### 実装しないもの

* 斜体、斜体＋太字
  * ただし斜体＋太字の書式は、別の用途で使う
* 箇条書き・リスト
  * 箇条書きで使う `*` は、システムへのディレクティブとして使う
* テーブル
* 脚注
* `>` を使った引用
* コードブロック (```` ``` ````)
  * ただし同じ書式で引用を表す

### 改行

改行はスペースではなく `<br>` に変換される。

### コメント

コメントは HTML と同じように書く。

```html
<!-- コメント -->
```

こうやって書かれたコメントは html に出力されない。

### 省略

記事がトップページなど、複数の記事が掲載される html に出力されるとき、記事全体を掲載するには長すぎると考えられる場合は、本文中に以下のように書く。

```plaintext
* break
```

この場合、複数の記事を含む html ファイルでは `:break` の前の行までが使われる。この箇所に「続きを読む」といった、個別記事へのリンクを作る。

個別記事のファイルでは `:break` は意味を持たず、すべてを記載する。

### テキストの位置寄せ

文章の前後や末尾に `>>>` や `<<<` を付ける。

#### 右寄せ

段落が `>>>` で囲われていたら、その段落は右寄せになる。

```plaintext
>>> この文章は右寄せになる。>>>
```

段落が `>>>` と `<<<` で括られている場合、その段落は中央寄せ（センタリング）される

```plaintext
>>> この文書はセンタリングされる <<<
```

### 引用

Markdown のコードブロックと同じように書く。

つまり、

<pre>
```
この文章は引用になる。
```
</pre>

この中身は `<blockquote>` で囲われる。その他、段落のセンタリングや右寄りといったものも使える。

以下は、文章を引用した上で、引用元を右寄せで表示する。

<pre>
```
“Democracy is the worst form of government, except for all those other forms that have been tried from time to time.”
>>> -- Winston S Churchill, 11 November 1947.>>>
```
</pre>

## 文字色と背景色

Markdown と違い、文字や背景に色を付けることができる。

### 文字色

html のタグのように指定する。ただし、閉じるタグはすべて `</color>` になる。文字色を変えても、閉じタグを変える必要はない、ということである。

段落を跨ぐことはできない。

```plaintext
<color green>この文字は緑色</color>
```

あるいは、直接 `#FFFFFF` の形式にしてもよい

```plaintext
<color #FFFFFF>この色は白</color>
```

### 背景色（マーカー）

背景色といっても、マーカーペンのような使い方である。

```plaintext
<mark green>この文章には蛍光グリーンのマーカーが引かれる</mark>
```

マーカーの種類は `#FFFFFF` 形式では指定できず、以下の、よく蛍光マーカーで使われるものに限られる。

* `yellow`, `green`, `pink`, `red`, `blue`, `orange`


### 傍点

Markdown だと「斜体＋太字」になる最上位の強調表示は、日本語だと傍点でしょう、ということで。

```plaintext
***傍点を付けたい文字列***
```
